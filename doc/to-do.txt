Ref data refactor to base controller